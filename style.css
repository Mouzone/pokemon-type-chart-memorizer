/* Thin */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 100;
	src: url("Fira_Sans/FiraSans-Thin.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 100;
	src: url("Fira_Sans/FiraSans-ThinItalic.ttf") format("truetype");
}

/* Extra Light */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 200;
	src: url("Fira_Sans/FiraSans-ExtraLight.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 200;
	src: url("Fira_Sans/FiraSans-ExtraLightItalic.ttf") format("truetype");
}

/* Light */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 300;
	src: url("Fira_Sans/FiraSans-Light.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 300;
	src: url("Fira_Sans/FiraSans-LightItalic.ttf") format("truetype");
}

/* Regular */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 400;
	src: url("Fira_Sans/FiraSans-Regular.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 400;
	src: url("Fira_Sans/FiraSans-Italic.ttf") format("truetype");
}

/* Medium */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 500;
	src: url("Fira_Sans/FiraSans-Medium.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 500;
	src: url("Fira_Sans/FiraSans-MediumItalic.ttf") format("truetype");
}

/* Semi-bold */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 600;
	src: url("Fira_Sans/FiraSans-SemiBold.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 600;
	src: url("Fira_Sans/FiraSans-SemiBoldItalic.ttf") format("truetype");
}

/* Bold */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 700;
	src: url("Fira_Sans/FiraSans-Bold.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 700;
	src: url("Fira_Sans/FiraSans-BoldItalic.ttf") format("truetype");
}

/* Extra Bold */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 800;
	src: url("Fira_Sans/FiraSans-ExtraBold.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 800;
	src: url("Fira_Sans/FiraSans-ExtraBoldItalic.ttf") format("truetype");
}

/* Black */
@font-face {
	font-family: "Fira Sans";
	font-style: normal;
	font-weight: 900;
	src: url("Fira_Sans/FiraSans-Black.ttf") format("truetype");
}

@font-face {
	font-family: "Fira Sans";
	font-style: italic;
	font-weight: 900;
	src: url("Fira_Sans/FiraSans-BlackItalic.ttf") format("truetype");
}

body {
	font-family: "Fira Sans", sans-serif;
	height: 100dvh;
	display: flex;
	align-items: center;
	justify-content: center;
}

div#radio-buttons {
	border: 1px solid black;
	padding: 0.5em;
	border-radius: 10px;
}

div#table-container {
	width: 60vw;
	min-height: 700px; /* Ensure enough height for full table */
	display: flex;
	align-items: center;
	justify-content: center;
}

table {
	border-collapse: collapse;
	table-layout: fixed; /* Fix cell sizes */
}

th.corner-cell {
	font-weight: 350;
	text-align: center;
	vertical-align: middle;
	font-size: 10px;
	width: 80px;
	height: 35px;
	padding: 4px;
	box-sizing: border-box;
}

th[data-type] {
	font-weight: 450;
	color: white;
	width: 35px;
	height: 35px;
	padding: 0.5em;
	box-sizing: border-box;
	vertical-align: middle;
}

/* Row Headers specifically */
tbody th {
	width: 80px;
	height: 35px;
	padding: 4px;
	box-sizing: border-box;
	vertical-align: middle;
}

/* Type Color Variables */
:root {
	--type-normal-color: #a8a77a;
	--type-fire-color: #ee3030;
	--type-water-color: #6390f0;
	--type-electric-color: #f7d02c;
	--type-grass-color: #7ac74c;
	--type-ice-color: #96d9d6;
	--type-fighting-color: #c22e28;
	--type-poison-color: #a33ea1;
	--type-ground-color: #e2bf65;
	--type-flying-color: #a98ff3;
	--type-psychic-color: #f95587;
	--type-bug-color: #a6b91a;
	--type-rock-color: #b6a136;
	--type-ghost-color: #735797;
	--type-dragon-color: #6f35fc;
	--type-dark-color: #705746;
	--type-steel-color: #b7b7ce;
	--type-fairy-color: #d685ad;

	--super-effective: #4caf50;
	--not-effective: #f44336;
	--immune: #212121;
}

/* Individual Color Mapping */
th[data-type="Normal"] {
	background-color: var(--type-normal-color);
}
th[data-type="Fire"] {
	background-color: var(--type-fire-color);
}
th[data-type="Water"] {
	background-color: var(--type-water-color);
}
th[data-type="Electric"] {
	background-color: var(--type-electric-color);
}
th[data-type="Grass"] {
	background-color: var(--type-grass-color);
}
th[data-type="Ice"] {
	background-color: var(--type-ice-color);
}
th[data-type="Fighting"] {
	background-color: var(--type-fighting-color);
}
th[data-type="Poison"] {
	background-color: var(--type-poison-color);
}
th[data-type="Ground"] {
	background-color: var(--type-ground-color);
}
th[data-type="Flying"] {
	background-color: var(--type-flying-color);
}
th[data-type="Psychic"] {
	background-color: var(--type-psychic-color);
}
th[data-type="Bug"] {
	background-color: var(--type-bug-color);
}
th[data-type="Rock"] {
	background-color: var(--type-rock-color);
}
th[data-type="Ghost"] {
	background-color: var(--type-ghost-color);
}
th[data-type="Dragon"] {
	background-color: var(--type-dragon-color);
}
th[data-type="Dark"] {
	background-color: var(--type-dark-color);
}
th[data-type="Steel"] {
	background-color: var(--type-steel-color);
}
th[data-type="Fairy"] {
	background-color: var(--type-fairy-color);
}

td[data-value="2"] {
	background-color: var(--super-effective);
	color: rgb(255, 221, 87);
}
td[data-value="0.5"] {
	background-color: var(--not-effective);
	color: rgb(255, 221, 87);
}
td[data-value="0"] {
	background-color: var(--immune);
	color: rgb(255, 221, 87);
}

th,
td {
	text-align: center;
	padding: 4px;
	margin: 0;
	/* Default width/height for data cells */
	width: 35px;
	height: 35px;
	box-sizing: border-box;
	vertical-align: middle;
}

td {
	border: 1px solid lightgray;
	overflow: hidden; /* Hide overflow */
}

div#buttons {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 0.5em
}

#reference-link {
	position: fixed;
	bottom: 50px;
	left: 50%;
	transform: translateX(-50%);
	font-size: 0.9rem;
}

#reference-link a {
	color: #333;
	text-decoration: none;
	opacity: 0.7;
}

#reference-link a:hover {
	text-decoration: underline;
	opacity: 1;
}

/* Mobile Responsive Design */
@media (max-width: 900px) {
	/* Fixed Viewport Split Layout */
	body {
		flex-direction: column;
		height: 100dvh; /* Fixed height */
		min-height: 100dvh;
		overflow: hidden; /* Prevent body scroll */
		justify-content: flex-start;
		padding: 0;
	}

	/* TABLE: Top 85% - Maximize Content Area */
	div#table-container {
		order: 1; /* Visually First */
		width: 100%;
		height: 85%; /* Increased height */
		margin: 0;
		padding: 0;
		min-height: 0; /* Allow shrinking */
		display: flex; /* Flexbox for centering */
		flex-direction: column; /* Allow scrolling content */
		overflow: auto; /* Scrollable area */
		background-color: transparent;
	}
	
	/* Center the table when it's smaller than the container */
	table {
		margin: auto; /* Safe centering for flex/block containers */
	}

	/* CONTROLS: Bottom 15% - Bare HTML & Centered */
	div#buttons {
		order: 2; /* Visually Second */
		width: 100%;
		height: 15%; /* Compact Control Area */
		background-color: white; 
		border: none; /* Removed border */
		padding: 5px;
		box-sizing: border-box;
		position: relative; /* Not sticky, just fixed in grid/flex */
		z-index: 10;
        
        /* Layout: Stacked Rows via Column Flex */
        display: flex;
        flex-direction: column; /* Use column to ensure strict centering */
        justify-content: center; /* Center vertically in the 15% space */
        align-items: center; /* Center horizontally */
        gap: 5px;
	}

	/* Row 1: Radio Buttons (Full Width) */
	div#radio-buttons {
		order: 1;
		width: 100%;
		display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
		border: none;
		padding: 0;
		margin: 0;
	}

	/* Reset Inputs completely to default */
	div#radio-buttons input[type="radio"] {
		position: static;
		width: auto;
		height: auto;
		margin: 0 4px 0 0;
        appearance: auto; 
	}

	div#radio-buttons label {
		padding: 0;
		background: none;
		border: none;
		font-weight: normal;
        cursor: default;
        margin-right: 5px;
        font-size: 1rem;
	}
    
    div#radio-buttons br {
        display: none; 
    }
    
    /* Row 2 Wrapper (Virtual via Flex wrap logic in previous attempt, 
       but here we are using `flex-direction: column` on parent so items stack naturally?
       Wait, #buttons contains [div#radio-buttons, select, button, button].
       If I use `flex-direction: column`, the div is Item 1.
       select, button, button are Items 2, 3, 4. 
       They will stack vertically if not wrapped.
       To make them a "Row 2", I need a wrapper OR layout trick.
       Let's use `display: flex; flex-flow: row wrap; justify-content: center; align-content: center;`.
       Force break after radios.
    */
    
    /* Revert to Row Wrap for structure: */
    div#buttons {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-content: center; /* Center rows vertically */
        align-items: center;
    }
    
    div#radio-buttons {
        flex: 0 1 auto; /* Shrink to fit content */
        margin-bottom: 5px;
        /* Restore "Box" Look */
        border: 1px solid black;
        border-radius: 10px;
        padding: 0.5em; /* Match default padding */
        width: auto;
    }

	/* Row 2 Items: Action Buttons & Select */
	#type-selector {
		order: 2;
		width: 120px; /* Fixed width to prevent layout shift */
        text-align: center;
        text-align-last: center; /* For select text */
		margin: 0 5px;
        padding: 2px 4px; /* Reduced vertical padding */
        font-size: 1rem;
        height: auto;
	}

    #Generate, #Submit {
        order: 2;
        margin: 0 5px;
    }

	/* Sticky Headers inside the scrollable table area */
	thead th {
		position: sticky;
		top: 0;
		z-index: 5;
        box-sizing: border-box;
	}
	
	thead th.corner-cell {
		z-index: 6;
		background-color: white;
		left: 0;
		position: sticky;
        /* Strict Fixed Width against Shift */
        width: 75px; 
        min-width: 75px;
        max-width: 75px;
        box-sizing: border-box;
	}

	tbody th {
		position: sticky;
		left: 0;
		z-index: 4;
		background-color: white; 
        /* Strict Fixed Width against Shift */
        width: 75px; 
        min-width: 75px;
        max-width: 75px;
        /* Handle Overflow */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
	}

	/* Adjust font sizes */
	th, td {
		font-size: 0.75rem;
		width: 30px;
		height: 30px;
		padding: 2px;
        box-sizing: border-box;
	}
    
    /* Ensure other headers don't shrink */
    thead th:not(.corner-cell) {
        min-width: 30px;
    }

	th.corner-cell {
		width: 75px;
		height: 30px;
		font-size: 0.65rem;
	}
	
	tbody th {
		width: 75px;
	}

	/* Footer: Hide or Absolute bottom right tiny? */
	/* User didn't specify, but fixed 25% height controls might cover it if simple flow. 
	   Let's absolute position it bottom-right of body or hide to save space?
	   I'll put it at the very bottom of the Controls area effectively, or overlay. */
	#reference-link {
		position: absolute;
		bottom: 5px;
		left: 50%;
		transform: translateX(-50%);
		text-align: center;
		right: auto;
		font-size: 0.6rem;
		background: none;
		border: none;
		width: 100%;
		padding: 0;
		opacity: 0.5;
		z-index: 20;
	}
}